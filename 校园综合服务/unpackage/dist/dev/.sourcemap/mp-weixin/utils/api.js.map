{"version":3,"file":"api.js","sources":["utils/api.js"],"sourcesContent":["// utils/api.js\n\n/**\n * 通用请求封装\n * @param {Object} options 请求参数（同uni.request）\n * @returns {Promise} 返回Promise对象\n */\nexport const request = (options) => {\n  return new Promise((resolve, reject) => {\n    uni.request({\n      timeout: 10000, // 可选：统一设置超时时间\n      ...options,\n      success: (res) => {\n        if (res.statusCode === 200) {\n          resolve(res.data)\n        } else {\n          uni.showToast({\n            title: res.data?.message || '服务器错误',\n            icon: 'none',\n            duration: 2000\n          })\n          reject(res)\n        }\n      },\n      fail: (err) => {\n        uni.showToast({\n          title: '网络异常，请稍后重试',\n          icon: 'none',\n          duration: 2000\n        })\n        reject(err)\n      }\n    })\n  })\n}\n"],"names":["uni"],"mappings":";;AAOY,MAAC,UAAU,CAAC,YAAY;AAClC,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtCA,kBAAAA,MAAI,QAAQ;AAAA,MACV,SAAS;AAAA;AAAA,MACT,GAAG;AAAA,MACH,SAAS,CAAC,QAAQ;;AAChB,YAAI,IAAI,eAAe,KAAK;AAC1B,kBAAQ,IAAI,IAAI;AAAA,QAC1B,OAAe;AACLA,wBAAAA,MAAI,UAAU;AAAA,YACZ,SAAO,SAAI,SAAJ,mBAAU,YAAW;AAAA,YAC5B,MAAM;AAAA,YACN,UAAU;AAAA,UACtB,CAAW;AACD,iBAAO,GAAG;AAAA,QACX;AAAA,MACF;AAAA,MACD,MAAM,CAAC,QAAQ;AACbA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,UACN,UAAU;AAAA,QACpB,CAAS;AACD,eAAO,GAAG;AAAA,MACX;AAAA,IACP,CAAK;AAAA,EACL,CAAG;AACH;;"}